!function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){var r,i,o,s,a,u,l,c,p,d,h=function(e,t){function n(){this.constructor=e}for(var r in t)m.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},m={}.hasOwnProperty;d=e("./utils"),p=e("./symbols"),i=3,l=function(e){function t(e,n){this.message=e,this.type=n,t.__super__.constructor.call(this,this.message)}return h(t,e),t}(Error),u=function(){function e(e){this.seq=(e.constructor===Array?e.join(""):e).toUpperCase().replace(/\s/g,"")}return e.prototype.err=function(e){throw new l(e,this.constructor.name)},e.prototype.check=function(e){return e},e.prototype.clean=function(){var e,t;return t=this.constructor,e=this.seq.split("").map(function(e){return function(n){return-1===t.ValidIUPACSyms.indexOf(n)&&e.err("non-IUPAC symbol: "+n),t.TransformSyms[n]||n}}(this)).join(""),this.fixEnds(this.check(e),t.FixEndOpts)},e.prototype.fixEnds=function(e,t){return e},e}(),a=100,c=function(e,t){return e.count<t.count?e:t},r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.ValidIUPACSyms=p.AminoIUPAC,t.TransformSyms=p.AminoTransform,t.FixEndOpts={beg:{len:1,text:p.AminoStartCodons},end:{len:1,text:p.AminoEndCodons}},t.prototype.findPossibleORFs=function(e){var t,n,r;for(t=0,n=0,r=[];-1!==(t=e.indexOf("M",n))&&(n=e.indexOf("-",t+1),-1!==n);)r.push({beg:t,end:n});return r},t.prototype.check=function(e){var t,n,r;return n=function(e){var t,n;return t=e.beg,n=e.end,n-t},r=function(e,t){var r;return r=n(t),r>e?r:void 0},t=this.findPossibleORFs(e).reduce(r,0),a>t&&this.err("orf of length >= "+a+" not found by heuristic"),e},t.MutationWindowLength=3,t.prototype.minimizeMutation=function(e){var t,n,r,i,a,u,l,d,h,m,f,C,A,T,g,G;for(h=null!=e?e:{},g=null!=(m=h.singleWeight)?m:null,r=null!=(f=h.cleanedSeq)?f:null,G=null!=(C=h.weights)?C:null,t=null!=(A=h.adv)?A:null,n=r||this.clean().split(""),a=new Array(n.length),i=n.length-this.constructor.MutationWindowLength+1,u=d=0,T=i-1;T>=d;u=d+=1)l=n.slice(u,+(u+this.constructor.MutationWindowLength)+1||9e9).map(function(e){return p.DNACodonAminoMap[e]}),a[u]=l.getAllCombinations().map(function(e){return{first:e[0],count:o.MutabilityScore(e.join(""),a.slice(0,+(u-1)+1||9e9),{singleWeight:g,weights:G,adv:t})}}).reduce(c).first;return n.slice(i,+(i+this.constructor.MutationWindowLength-1)+1||9e9).map(function(e){return p.DNACodonAminoMap[e]}).getAllCombinations().map(function(e){return{seq:e,count:o.MutabilityScore(e.join(""))}}).reduce(c).seq.forEach(function(e,t){return a[i+t]=e}),new s(a.join(""))},t.prototype.minimizeAllMutations=function(e){var t,n,r,i;return e={name:"original",counts:o.AllCounts(e)},t=this.clean().split(""),i=o.AllFuns.map(function(e){return function(n){return{name:n.name,counts:o.AllCounts(e.minimizeMutation({singleWeight:n.func,cleanedSeq:t}).seq)}}}(this)),n={name:"global",counts:o.AllCounts(this.minimizeMutation().seq)},r={},i.concat([e,n]).forEach(function(e){return r[e.name]=e.counts}),r},t}(u),o=function(){function e(){}var t,n,r;return e.DefaultHomologyCount=5,e.RepeatRunCount=4,e.WeightedPyrDimerMap=function(){var e,t,n;e=d.ConvoluteKeysValues(p.WeightedPyrDimers);for(t in e)n=e[t],n=parseFloat(n);return e}(),e.WeightedPyrDimerSet=function(){var t;t=[];for(n in e.WeightedPyrDimerMap)t.push(n);return t}(),e.occurrenceIndices=function(e,t){var n,r,i,o;for(o={},r=0,i=t.length;i>r;r++)n=t[r],o[n]=e.indicesOfOccurrences(n);return o},e.countOccurrences=function(e,t){return t.map(function(t){return e.countSubstr(t)}).sum()},e.countOrInd=function(e,t,n){return n?this.occurrenceIndices(e,t):this.countOccurrences(e,t)},e.splitCodons=function(e){return e.splitLength(i)},e.rateLimitingCodons=function(t,n){return n?e.occurrenceIndices(e.splitCodons(t),p.RateLimitingCodons):e.splitCodons(t).filter(function(e){return-1!==p.RateLimitingCodons.indexOf(e)}).length},e.antiShineDelgarno=function(t,n){return e.countOrInd(t,p.AntiShineDelgarno,n)},e.ttDimerCount=function(t,n){return e.countOrInd(t,p.TTDimers,n)},e.otherPyrDimerCount=function(t,n){return e.countOrInd(t,p.OtherPyrDimers,n)},e.weightedPyrDimerCount=function(t,r){var i;return r?e.occurrenceIndices(t,e.WeightedPyrDimerSet):function(){var e,r;e=this.WeightedPyrDimerMap,r=[];for(n in e)i=e[n],r.push(i*t.countSubstr(n));return r}.call(e).sum()},e.methylationSites=function(t,n){return e.countOrInd(t,p.MethylationSites,n)},e.repeatRuns=function(t,n){var r,i,o,s,a,u,l,c,p;for(p=0,c=null,o=0,n&&(a=[]),s=u=0,l=t.length;l>u;s=++u)r=t[s],r===c?++o:(o>=e.RepeatRunCount-1&&n&&(i=s-o,a.push({start:i,str:t.slice(i,+(i+o-1)+1||9e9)})),o=0),o>=e.RepeatRunCount-1&&!n&&++p,c=r;return n?a:p},e.homologyRepeatCount=function(t,n,r){var i,o,s,a,u,l,c,p,d;for(r||(u=0),r&&(o=[]),i=s=l=e.DefaultHomologyCount,c=t.length-e.DefaultHomologyCount;c>=s;i=s+=1)p=n.slice(i,+(i+e.DefaultHomologyCount-1)+1||9e9),d=n.indexOf(p,i+1),a=n.slice(0,+(i+e.DefaultHomologyCount-2)+1||9e9).indexOf(p),(-1!==a||-1!==d)&&(r?o.push({start:i,str:p}):++u);return r?o:u},e.deaminationSites=function(t,n){return e.countOrInd(t,p.DeaminationSites,n)},e.alkylationSites=function(t,n){return e.countOrInd(t,p.AlkylationSites,n)},e.oxidationSites=function(t,n){return e.countOrInd(t,p.OxidationSites,n)},e.miscSites=function(t,n){return e.countOrInd(t,p.MiscSites,n)},e.hairpinSites=function(e,t){var n,r,i,o,s,a;if(a=p.HairpinSites,t){for(s={},n=0,r=a.length;r>n;n++)o=a[n],s[o]=function(){var t;for(t=[];i=null!=o.exec(e);)t.push(i.index);return t}();return s}return a.map(function(t){return(e.match(t)||[]).length}).sum()},e.insertionSequences=function(t,n){return e.countOrInd(t,p.InsertionSequences,n)},e.RFC10Sites=function(t,n){return e.countOrInd(t,p.RFC10Sites,n)},e.ModifyWeightsOnAdvancedOptions=function(e,t,n){switch(t){case"RFC10":return e.RFC10=n?p.FunctionWeights.RFC10.weight:0,e;case"Rate Limiting Codons":return e["Rate Limiting Codons"]=n?0:p.FunctionWeights["Rate Limiting Codons"].weight,e;default:return e}},e.AllFuns=function(){var i,o;i=p.FunctionWeights,o=[];for(n in i)r=i[n],t=e[r.func],o.push({func:r.needsCurSeq?t:function(e){return function(t,n,r){return e(t,r)}}(t),weight:r.weight,name:r.func,title:n,inFrame:r.inFrame});return o}(),e.SumAllWeights=function(t,n,r){return e.AllFuns.map(r?function(e){return e.func(t,n)*r[e.title]}:function(e){return e.func(t,n)*e.weight}).sum()},e.AllCounts=function(t,n){var r,i,o,s,a,u,l;for(null==n&&(n=t),u={},l=0,a=e.AllFunsCleaned,o=0,s=a.length;s>o;o++)i=a[o],r=i.func(t,n),l+=r*i.weight,u[i.name]=r;return u.mutability_score=l,u},e.MutabilityScore=function(t,i,o){var s,a,u,l,c,p,d,h;if(null==i&&(i=null),a=null!=o?o:{},d=null!=(u=a.singleWeight)?u:null,h=null!=(l=a.weights)?l:null,s=null!=(c=a.adv)?c:null,t=t.toUpperCase(),i=t.toUpperCase(),d)return d(t,i);if(h&&null!=s)for(n in s)r=s[n],h=e.ModifyWeightsOnAdvancedOptions(h,n,r);return p=e.SumAllWeights(t,i,h),(null!=s?s.Evolution:void 0)?-1*p:p},e.HotspotIndices=function(t,n){return t=t.toUpperCase(),n=n.toUpperCase(),e.AllFuns.map(function(e){return{indices:e.func(t,n,!0),title:e.title}})},e}(),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return h(t,e),t.ValidIUPACSyms=p.DNAIUPAC,t.CodonAminoMap=d.ConvoluteKeysValues(p.DNACodonAminoMap),t.TransformSyms=p.DNATransformSyms,t.StartCodons=p.StartCodons,t.StopCodons=p.StopCodons,t.FixEndOpts={beg:{len:3,text:t.StartCodons},end:{len:3,text:t.StopCodons},doThrow:!0},t.prototype.check=function(e){return e.length%3&&this.err("not multiple of 3: "+e.length),this.constructor.StopCodons.forEach(function(t){return function(n){var r;return r=e.indexOf(n),r>0&&r<e.length-3&&r%3===0?t.err("Premature stop codon "+n+" at index "+r):void 0}}(this)),e},t.prototype.toAminoSeqFromSplit=function(e){return new r(e.map(function(e){return function(t){return e.constructor.CodonAminoMap[t]||e.err("codon "+t+" is invalid")}}(this)))},t.prototype.toAminoSeq=function(){return this.toAminoSeqFromSplit(o.splitCodons(this.seq))},t}(u),t.exports={SequenceError:l,AminoAcidSequence:r,Count:o,DNASequence:s}},{"./symbols":2,"./utils":3}],2:[function(e,t,n){t.exports={AminoIUPAC:["W","L","P","H","Q","R","I","M","T","N","K","S","V","A","D","E","G","F","Y","C","-"],AminoTransform:{"*":"-",X:"-"},DNAIUPAC:["A","T","G","C","U","R","Y","N"],DNACodonAminoMap:{"-":["TGA","TAG","TAA"],A:["GCT","GCC","GCA","GCG"],C:["TGT","TGC"],D:["GAT","GAC"],E:["GAA","GAG"],F:["TTT","TTC"],G:["GGT","GGC","GGA","GGG"],H:["CAT","CAC"],I:["ATA","ATC","ATT"],K:["AAA","AAG"],L:["CTT","CTC","CTA","CTG","TTA","TTG"],M:["ATG"],N:["AAT","AAC"],P:["CCT","CCC","CCA","CCG"],Q:["CAA","CAG"],R:["AGA","AGG","CGT","CGC","CGA","CGG"],S:["AGT","AGC","TCT","TCC","TCA","TCG"],T:["ACT","ACC","ACA","ACG"],V:["GTT","GTC","GTA","GTG"],W:["TGG"],Y:["TAT","TAC"]},DNATransformSyms:{U:"T"},CodonUsage:{ATG:1,ATA:.11,ATC:.39,ATT:.49,ACT:.19,ACC:.4,ACA:.17,ACG:.25,AAA:.74,AAG:.26,AAT:.49,AAC:.51,AGT:.16,AGC:.25,AGA:.07,AGG:.04,CTT:.12,CTC:.1,CTA:.04,CTG:.47,CCT:.18,CCC:.13,CCA:.2,CCG:.49,CAT:.57,CAC:.43,CAA:.34,CAG:.66,CGT:.361,CGC:.36,CGA:.071,CGG:.11,GTT:.28,GTC:.2,GTA:.17,GTG:.35,GCT:.18,GCC:.26,GCA:.23,GCG:.33,GAT:.63,GAC:.37,GAA:.68,GAG:.32,GGT:.35,GGC:.37,GGA:.13,GGG:.15,TTT:.58,TTC:.42,TTA:.14,TTG:.13,TCT:.17,TCC:.15,TCA:.141,TCG:.14,TAT:.59,TAC:.41,TGT:.46,TGC:.54,TGG:1,TGA:.3,TAG:.09,TAA:.61},AminoStartCodons:["M"],AminoEndCodons:["-"],StartCodons:["ATG"],StopCodons:["TGA","TAG","TAA"],RateLimitingCodons:["CTA","TAG","CGA","CGG","AGA","AGG","ATA"],AntiShineDelgarno:["AGG","GGA","GAG","GGG","GGT","GTG"],TTDimers:["TT","AA"],OtherPyrDimers:["CT","TC","CC","CY","TY","YC","YT","YY","GA","AG","GG","AR","RA","GR","RG","RR"],WeightedPyrDimers:{".581":["TT","AA"],".586":["TC","GA"],".104":["CT","AG"],".0111":["CC","GG"]},MethylationSites:["GATC","CTAG","CCAGG","CCTGG","GGTCC","GGACC"],DeaminationSites:["CG","GC"],AlkylationSites:["GG","CC","AG","CT","TC","GA"],OxidationSites:["GGG","GG","CCC","CC"],MiscSites:["TTG","CTG","GTGG","CCAC","GGCGCC"],HairpinSites:[/CCTCCGG/g,/CC...GG/g,/CG...CG/g,/GC...GC/g,/GG...CC/g],InsertionSequences:["TGCGGACGATCATCAGTTAT","ATAACTGATGATCGTCCGCA","GATCGTTGGGAACCG","CGGTTCCCAACGATC","GCAGTCAGGCACCGT","TAAGCTTTAATGCGC","GCAGTCAGGCACCGT","GCCGCCCAGTCCTGC","AGTGCCATCTCCTT","AAGGAGATGGCACT","TGTATCAGTGGGGCTTTG","CAAAGCCCCACTGATACA","TTGTGTTTTTCAT","ATGAAAAACACAA","GGCATACTCTGCGACATCGT","ACGATGTCGCAGAGTATGCC","CTTATGACATTAAAAGTAAC","TGAATAGCCTGTCTTACA","TAACTGTTTCTTTTTGTT","CAGTCAGG","CCTGACTG","AAGTATATCA","TGATATACTT"],RFC10Sites:["GAATTC","TCTAGA","ACTAGT","CTGCAG"],FunctionWeights:{"Rate Limiting Codons":{func:"rateLimitingCodons",weight:1e3,inFrame:!0},"Weighted Pyr Dimers":{func:"weightedPyrDimerCount",weight:3},"Misc Sites":{func:"miscSites",weight:.5},"Hairpin Sites":{func:"hairpinSites",weight:2},"Insertion Sequences":{func:"insertionSequences",weight:8},"Anti-Shine Delgarno":{func:"antiShineDelgarno",weight:5},Deaminations:{func:"deaminationSites",weight:1},"Repeat Runs":{func:"repeatRuns",weight:5},"Homologous Repeats":{func:"homologyRepeatCount",weight:.5,needsCurSeq:!0},Alkylation:{func:"alkylationSites",weight:1},Methylation:{func:"methylationSites",weight:2},Oxidation:{func:"oxidationSites",weight:3},RFC10:{func:"RFC10Sites",weight:1e3}}}},{}],3:[function(e,t,n){var r,i,o,s,a,u,l;i=e("lodash"),u=function(e,t){var n,r,i,o,s;for(s=[],r=n=0,i=t.length-1,o=e;o>0?i>=n:n>=i;r=n+=o)s.push(t.slice(r,+(r+e-1)+1||9e9));return s},String.prototype.splitLength=function(e){return u(e,this)},Array.prototype.splitLength=function(e){return u(e,this)},l=function(e){return e.reduce(function(e,t){return e+t},0)},Array.prototype.sum=function(){return l(this)},a=function(e,t,n){var r,i,o,s;for(r=n?t.length:1,i=e.indexOf(t),s=[];-1!==i;)o=i,i=e.indexOf(t,i+r),s.push(o);return s},String.prototype.indicesOfOccurrences=function(e,t){return a(this,e,t)},Array.prototype.indicesOfOccurrences=function(e,t){return a(this,e,t)},o=function(e,t,n){var r,i,o;for(r=n?t.length:1,i=0,o=e.indexOf(t);-1!==o;)++i,o=e.indexOf(t,o+r);return i},String.prototype.countSubstr=function(e,t){return o(this,e,t)},Array.prototype.countSubstr=function(e,t){return o(this,e,t)},r=function(e){var t;return e.constructor!==Array&&(e=[e]),t={},e.forEach(function(e){return Object.keys(e).forEach(function(n){var r,i,o,s;for(o=e[n],r=0,i=o.length;i>r;r++)s=o[r],t[s]=n;return null})}),t},s=function(e){switch(e.length){case 0:return[];case 1:return e[0];default:return i.flatten(e[0].map(function(t){return s(e.slice(1)).map(function(e){return[t].concat(e)})}))}},Array.prototype.getAllCombinations=function(){return s(this)},t.exports={splitLength:u,sum:l,countSubstr:o,ConvoluteKeysValues:r,getAllCombinations:s}},{lodash:"lodash"}],4:[function(e,t,n){var r,i,o,s,a,u,l,c,p,d,h,m,f,C,A,T,g,G,y,b,v,S,x,E,O,N,D,w,I,M,F,k,P,R,q,L,W;N=e("lodash"),v=e("react"),E=e("react-spin"),c=e("detect-element-resize"),I=e("./gensym"),W=e("../lib/utils"),h=v.createClass({displayName:"ItemList",render:function(){var e,t;return v.createElement("div",{className:"list-group"},function(){var n,r,i,o;for(i=this.props.items,o=[],t=n=0,r=i.length;r>n;t=++n)e=i[t],o.push(v.createElement("a",{href:"#",className:"list-group-item",key:t,onClick:function(e){return function(t){return function(){return e.props.selectFn(t)}}}(this)(e)},e));return o}.call(this))}}),R=function(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")},L=function(e){return R(e).split("").join(".*")},x=v.createClass({displayName:"SearchList",getInitialState:function(){return{inputText:""}},clearAndFocusInput:function(){var e;return e=v.findDOMNode(this.refs.textInput),e.value="",e.focus(),this.setState({inputText:""}),this.props.fn(null)},render:function(){return v.createElement("div",null,v.createElement("label",{className:"spaced"},this.props.name),v.createElement("div",{className:this.props.classes},v.createElement("div",{className:"input-group"},v.createElement("input",{type:"text",className:"form-control",placeholder:this.props.defaultInput,value:this.state.inputText,ref:"textInput",onChange:function(e){return function(){var t;return t=v.findDOMNode(e.refs.textInput).value,e.setState({inputText:t})}}(this)}),v.createElement("span",{className:"input-group-btn"},v.createElement("button",{className:"btn btn-default",type:"button",onClick:this.clearAndFocusInput},v.createElement("span",{className:"glyphicon glyphicon-remove"})))),v.createElement(h,{items:this.state.inputText?this.props.items.filter(function(e){return function(t){return t.match(new RegExp(L(e.state.inputText),"i"))}}(this)):this.props.items,selectFn:function(e){return function(t){return e.setState({inputText:t}),e.props.fn(t)}}(this)})))}}),m=v.createClass({displayName:"LabeledPanel",getInitialState:function(){return{bodyHeight:null,resizeListener:null}},componentDidMount:function(){var e,t;return t=v.findDOMNode(this.refs.panelBody),e=function(e){return function(){return e.setState({bodyHeight:t.clientHeight})}}(this),this.setState({bodyHeight:t.clientHeight,resizeListener:e}),c.addResizeListener(t,e)},componentWillUnmount:function(){var e;return e=v.findDOMNode(this.refs.panelBody),c.removeResizeListener(e,this.state.resizeListener)},render:function(){return v.createElement("div",null,v.createElement("label",{className:"spaced"},this.props.labelTitle),v.createElement("div",{className:this.props.outerClasses},v.createElement("div",{className:"panel panel-default"},v.createElement("div",{className:"panel-heading"},this.props.headers),v.createElement("div",{className:"panel-body",ref:"panelBody"},v.Children.map(this.props.children,function(e){return function(t){return v.cloneElement(t,{parentHeight:e.state.bodyHeight})}}(this))))))}}),C=.105,O=v.createClass({displayName:"TextSection",render:function(){return v.createElement("textarea",{className:"form-control",ref:"txtInput",readOnly:this.props.textReadOnly,value:this.props.text,style:function(e){return function(){var t;return t=e.props.parentHeight,null!=t?{height:t*C+"ex"}:void 0}}(this)(),onChange:function(e){return function(){return e.props.fn?e.props.fn(v.findDOMNode(e.refs.txtInput).value):void 0}}(this)})}}),f=.109,S=v.createClass({displayName:"ScrollingDiv",render:function(){var e;return v.createElement("div",{className:"output-seq",style:(e=this.props.parentHeight,null!=e?{height:e*f+"ex"}:void 0)},this.props.txt)}}),q={lines:13,length:28,width:14,radius:42,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"},D=function(e,t,n){var r,i,o,s;for(s=[],r=i=0,o=t.length-1;o>=i;r=i+=1)s.push(v.createElement("span",{title:e+"->"+t,className:"seq-highlight",key:n+"."+r},t[r]));return s},w=function(e,t){var n,r,i,o,s,a,u;for(u=[],n=i=0,a=t.length;a>=i;n=i+=3)s=e.slice(n,+(n+2)+1||9e9).toUpperCase(),o=t.slice(n,+(n+2)+1||9e9).toUpperCase(),u.push(N.flatten(function(){var e,t,i;if(s!==o)return D(s,o,n);for(i=[],r=e=0,t=o.length-1;t>=e;r=e+=1)i.push(v.createElement("span",{className:"seq-no-highlight",key:n+"."+r},o[r]));return i}()));return u},y=v.createClass({displayName:"OutputTextPanel",getInitialState:function(){return{outputText:"",spinning:!1}},workerFn:function(e){var t,n,r,i,o,s;return i=e.data,t=i.err,o=i.txt,r=i.oldSeqObj,n=i.newSeqObj,s=i.type,t?(o.message&&alert(o.message),this.setState({spinning:!1,outputText:v.createElement("span",null,"ERROR")}),this.props.clearFn()):(this.setState({spinning:!1,outputText:function(){switch(s){case"DNA":return w(r.seq,n.seq);case"Amino":return v.createElement("span",{className:"seq-no-highlight"},n.seq)}}()}),this.props.percentageFn({pcntMutable:n.score/n.seq.length*100,pcntChange:(r.score-n.score)/r.score*100}))},componentDidMount:function(){return this.props.worker.addEventListener("message",this.workerFn)},componentWillUnmount:function(){return this.props.worker.removeEventListener("message",this.workerFn)},render:function(){var e;return e=[v.createElement("p",{key:"1"},this.props.text),v.createElement("button",{key:"2",type:"button",className:"btn btn-danger panel-btn",onClick:function(e){return function(){return e.setState({spinning:!1,outputText:""}),e.props.clearFn()}}(this)},this.props.clearButtonText),v.createElement("button",{key:"3",type:"button",className:"btn btn-success panel-btn",onClick:function(e){return function(){return e.setState({spinning:!0}),e.props.worker.postMessage(e.props.getStateFn())}}(this)},this.props.goButtonText)],v.createElement(m,{labelTitle:this.props.name,outerClasses:this.props.classes,headers:e},this.state.spinning?v.createElement(E,{config:q}):v.createElement(S,{txt:this.state.outputText}))}}),o="btn ",a=o+"btn-primary",s=o+"btn-default",M=function(e,t){return e===t?a:s},i=v.createClass({displayName:"ButtonArray",render:function(){var e,t;return v.createElement("div",{className:"btn-group"},function(){var n,r;n=this.props.texts,r=[];for(e in n)t=n[e],r.push(v.createElement("button",{type:"button",key:e,className:M(this.props.selectedButton,e),onClick:function(e){return function(t){return function(){return e.props.onClickFn(t)}}}(this)(e)},e));return r}.call(this))}}),d=v.createClass({displayName:"InputTextPanel",render:function(){var e;return e=[v.createElement("p",{key:"1"},this.props.buttons[this.props.selectedButton]),v.createElement(i,{key:"2",texts:this.props.buttons,selectedButton:this.props.selectedButton,onClickFn:this.props.typeFn})],v.createElement(m,{labelTitle:this.props.name,outerClasses:this.props.classes,headers:e},v.createElement(O,{textReadOnly:!1,fn:this.props.inputFn}))}}),u=v.createClass({displayName:"CheckboxOption",getInitialState:function(){return{id:I()}},onChangeFn:function(e){return this.props.fn(v.findDOMNode(this.refs.checkInput).checked)},render:function(){return v.createElement("div",{className:"option-switch"},v.createElement("input",{type:"checkbox",onChange:this.onChangeFn,ref:"checkInput",id:this.state.id}),v.createElement("label",{htmlFor:this.state.id,className:"checkbox-label"},this.props.heading))}}),l=v.createClass({displayName:"CheckboxWithContext",render:function(){return v.createElement("div",{className:"display-item option-box "+(this.props.classes||"")},v.createElement(u,{fn:this.props.fn,heading:this.props.heading}),this.props.children)}}),r=v.createClass({displayName:"AdvancedOptions",render:function(){return v.createElement("div",null,v.createElement("label",{className:"spaced"},this.props.labelText),v.createElement("div",{className:"option-pane advanced-options"},this.props.children))}}),G=v.createClass({displayName:"OptionsBox",render:function(){return v.createElement("div",{className:"options-box row "+this.props.newClasses},v.Children.map(this.props.children,function(e){return function(t){return v.cloneElement(t,{disabled:e.props.disabled})}}(this)))}}),g="0.0",F=function(e){return null!=e?v.createElement("span",{className:"input-group-addon"},e):void 0},k=function(e,t){var n;return n=e,v.createElement("label",{className:"parameter-label"},n)},b=v.createClass({displayName:"ParameterizedOption",render:function(){var e,t;return v.createElement("div",{className:"parameterized-option"},k(this.props.text,this.props.disabled),v.createElement("div",{className:"input-group input-group-sm"},F(null!=(e=this.props.children)?e[0]:void 0),v.createElement("input",{type:this.props.inputType||"text",className:"form-control num",placeholder:this.props.initialInput,disabled:this.props.disabled,onChange:function(e){return function(t){return e.props.fn(t.target.value)}}(this)}),F(null!=(t=this.props.children)?t[1]:void 0)))}}),p=v.createClass({displayName:"DisableableItem",getInitialState:function(){return{disabled:!1}},onCheckBox:function(e){return this.setState({disabled:e}),this.props.fn(e)},render:function(){return v.createElement(r,{labelText:this.props.labelText},v.createElement(l,{heading:this.props.heading,fn:this.onCheckBox},v.Children.map(this.props.children,function(e){return function(t){return v.cloneElement(t,{disabled:e.state.disabled})}}(this))))}}),P=function(e){return Math.round(100*e)/100},A=v.createClass({displayName:"MeterDisplay",render:function(){var e,t;return e=this.props.numDisplay?P(this.props.numDisplay):0,isFinite(e)||(e=0),t=isFinite(this.props.val)?this.props.val:0,v.createElement("div",{className:"meter-container"},v.createElement("label",null,this.props.lbl),v.createElement("meter",{max:this.props.limits.max,low:this.props.limits.low,value:t,optimum:this.props.limits.opt,className:"meter-score"},t,": ",this.props.lbl),v.createElement("span",{className:"meter-display"},""+e+(this.props.decorator||"")))}}),T=v.createClass({displayName:"MutabilityScoreboard",render:function(){return v.createElement(r,{labelText:this.props.lbl},v.createElement("div",{className:"display-item option-box mut-scoreboard"},v.createElement(A,{lbl:this.props.mutableDisplay.label,limits:this.props.mutableDisplay,val:this.props.pcntMutable?1/this.props.pcntMutable:void 0,numDisplay:this.props.pcntMutable}),v.createElement(A,{lbl:this.props.changeDisplay.label,limits:this.props.changeDisplay,val:this.props.pcntChange,numDisplay:this.props.pcntChange,decorator:"%"})))}}),t.exports={ItemList:h,SearchList:x,TextSection:O,ScrollingDiv:S,OutputTextPanel:y,InputTextPanel:d,CheckboxOption:u,CheckboxWithContext:l,AdvancedOptions:r,OptionsBox:G,ParameterizedOption:b,DisableableItem:p,MutabilityScoreboard:T}},{"../lib/utils":3,"./gensym":5,"detect-element-resize":"detect-element-resize",lodash:"lodash",react:"react","react-spin":"react-spin"}],5:[function(e,t,n){var r;r=function(){var e;for(e=Math.random();document.getElementById(e);)e=Math.random();return e},t.exports=r},{}],6:[function(e,t,n){var r,i,o,s;r=e("../lib/mutation-optimizer"),i=function(e){var t,n;return t=function(){switch(e.inputType){case"DNA":return new r.DNASequence(e.inputText).toAminoSeq();case"Amino":return new r.AminoAcidSequence(e.inputText);default:throw new r.SequenceError("sequence type invalid","bad seq type")}}(),n=e.isDefaultChecked?null:e.parameterizedOptions,t.minimizeMutation({weights:n,adv:e.advancedOptions})},s=function(e){return{err:!0,txt:e}},o=function(e){var t,n,o,a,u,l,c,p,d,h,m,f;if(m=e.data,t=null!=(p=e.cb)?p:self.postMessage,m.invalidState)return void t(s("invalid state"));try{return f=m.isDefaultChecked?null:m.parameterizedOptions,o=i(m).seq,a=r.Count.MutabilityScore(o,o,{weights:f}),l=m.inputText,d=function(){switch(m.inputType){case"DNA":return[r.Count.MutabilityScore(l,l,{weights:f}),r.Count.HotspotIndices(l,l)];case"Amino":return[null,null]}}(),c=d[0],u=d[1],h={oldSeqObj:{seq:l,score:c,indices:u},newSeqObj:{seq:o,score:a,indices:r.Count.HotspotIndices(o,o)},type:m.inputType},t(h)}catch(e){return n=e,t(s(n))}},self.onmessage=o,t.exports=o},{"../lib/mutation-optimizer":1}],7:[function(e,t,n){var r,i,o,s,a,u,l;i=e("react"),o=e("./strings"),s=e("./components"),l=null,void 0===typeof Worker?alert("This page uses Web Workers, a feature your browser does not support. To use this application, please upgrade your web browser."):l=new Worker("scripts/optimize-worker-out.js"),a=function(e){var t,n,r,i,s,a;if(t=function(){var e;e=[];for(n in o.InputButtonTitlesDirections)e.push(n);return e}(),s=t.some(function(t){return t===e.inputType}),!s)return"sequence type invalid";if(!e.isDefaultChecked){i=e.parameterizedOptions;for(r in i)if(a=i[r],isNaN(parseFloat(a)))return r+" argument cannot be parsed as a number"}return null},u=function(e){var t,n,r,i,o,s,a,u;for(r=0,u=e.split(""),o=0,a=u.length;a>o;o++)t=u[o],r=t.charCodeAt(0)+((r<<7)-r);for(n="#",i=s=0;2>=s;i=++s)n+=("00"+(r<<3*i&255).toString(16)).slice(-2);return n},r=i.createClass({displayName:"MutationOptimizerApp",getInitialState:function(){return{selectedElement:null,inputText:"",inputType:o.InitialButtonTitle,advancedOptions:function(){var e,t,n;t=JSON.parse(JSON.stringify(o.AdvancedOptions));for(e in t)n=t[e],t[e]=!1;return t}(),parameterizedOptions:function(){var e,t,n;t=JSON.parse(JSON.stringify(o.ParameterizedOptions));for(e in t)n=t[e],t[e]=parseFloat(n);return t}(),isDefaultChecked:!1,pcntMutable:null,pcntChange:null}},render:function(){var e,t,n,r,c;return i.createElement("div",null,i.createElement("nav",{className:"navbar navbar-default navbar-static-top"},i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"navbar-header"},i.createElement("a",{className:"navbar-brand",href:"#",target:"_blank"},o.VersionName),function(){var e,n;e=o.NavbarButtons,n=[];for(t in e)c=e[t],n.push(i.createElement("a",{href:c,target:"_blank",key:t},i.createElement("button",{type:"button",className:"btn btn-default navbar-btn"},t)));return n}()),i.createElement("p",{id:"speciesSelected",style:this.state.selectedElement?{color:u(this.state.selectedElement)}:{color:o.DefaultSpeciesColor},className:"navbar-text species-selected navbar-right"},this.state.selectedElement||o.DefaultSpeciesText))),i.createElement("div",{className:"container-fluid"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-2"},i.createElement(s.SearchList,{classes:"display-item tall-object listing",name:o.SearchPanelHeading,defaultInput:o.SearchPanelDefault,items:o.SpeciesToSearch,fn:function(e){return function(t){return e.setState({selectedElement:t}),alert(o.NoSpeciesText)}}(this)})),i.createElement("div",{className:"col-md-5"},i.createElement(s.InputTextPanel,{name:o.InputPanelHeading,classes:"display-item tall-object",typeFn:function(e){return function(t){return e.setState({inputType:t})}}(this),inputFn:function(e){return function(t){return e.setState({inputText:t.toUpperCase().replace(/\s/g,"")})}}(this),buttons:o.InputButtonTitlesDirections,selectedButton:this.state.inputType})),i.createElement("div",{className:"col-md-5"},i.createElement(s.OutputTextPanel,{text:o.OutputDirections,name:o.OutputPanelHeading,classes:"display-item tall-object",goButtonText:o.OutputButtonText,clearButtonText:o.ClearButtonText,worker:l,getStateFn:function(e){return function(){var t;return t=a(e.state),t?(alert(JSON.stringify(t)),{invalidState:!0}):e.state}}(this),percentageFn:function(e){return function(t){return e.setState(t)}}(this),clearFn:function(e){return function(){return e.setState({pcntMutable:null,pcntChange:null})}}(this)}))),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-2 more-padding"},i.createElement(s.AdvancedOptions,{labelText:o.AdvancedOptionsHeading},function(){var t,n;t=this.state.advancedOptions,n=[];for(e in t)r=t[e],n.push([e,r]);return n}.call(this).map(function(e){return function(t){var n,r;return n=t[0],r=t[1],i.createElement(s.CheckboxWithContext,{key:n,heading:n,fn:function(t){return function(n){var r;return r=e.state.advancedOptions,r[t]=n,e.setState({advancedOptions:r})}}(n)},i.createElement("p",{className:"explanation-text"},o.AdvancedOptions[n]))}}(this)))),i.createElement("div",{className:"col-md-8"},i.createElement(s.DisableableItem,{heading:o.DefaultParamLabel,fn:function(e){return function(t){return e.setState({isDefaultChecked:t})}}(this),labelText:o.ParameterOptionsHeading},i.createElement(s.OptionsBox,{newClasses:"params-holder"},(n=function(){var t,n;t=this.state.parameterizedOptions,n=[];for(e in t)r=t[e],n.push([e,r]);return n}.call(this),n.map(function(e){return function(t){var n,r;return n=t[0],r=t[1],i.createElement(s.ParameterizedOption,{key:n,text:n,fn:function(t){return function(n){var r;return r=e.state.parameterizedOptions,r[t]=n,e.setState({parameterizedOptions:r})}}(n),initialInput:r,isDisabled:!1})}}(this)))))),i.createElement("div",{className:"col-md-2"},i.createElement(s.MutabilityScoreboard,{lbl:o.MutabilityScoreboardLabel,pcntMutable:this.state.pcntMutable,pcntChange:this.state.pcntChange,mutableDisplay:o.MutabilityLabel,changeDisplay:o.ChangeLabel})))))}}),i.render(i.createElement(r,null),document.getElementById("root"))},{"./components":4,"./strings":8,react:"react"}],8:[function(e,t,n){var r,i,o,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};r=e("lodash"),o=e("../lib/symbols"),i=["RFC10","Rate Limiting Codons"],t.exports={DefaultSpeciesText:"No species selected.",DefaultSpeciesColor:"#333",NavbarButtons:{Documentation:"Documentation"},SearchPanelHeading:"Search Species",SearchPanelDefault:"Search for...",SpeciesToSearch:["E. coli","B. subtilis","S. cerevisiae","C. albicans","C. elegans","D. melanogaster","M. musculus","H. sapiens","A. thaliana"],InputPanelHeading:"Sequence Input",InitialButtonTitle:"DNA",InputButtonTitlesDirections:{DNA:"Enter an open reading frame, beginning with a start codon and ending with a stop codon, that contains only A, G, C, and T.",Amino:"Enter an amino acid sequence containing only the one-letter FASTA abbreviations. Stop codons may be omitted, or entered as *, -, or X."},OutputPanelHeading:"Codon Output",OutputButtonText:"Go!",ClearButtonText:"Clear",OutputDirections:"The sequence below is optimized against mutation.",ParameterOptionsHeading:"Input Parameters",DefaultParamLabel:"Use Default Parameters",ParameterizedOptions:function(){var e,t;if(e=Object.keys(o.FunctionWeights),r.intersection(i,e).length!==i.length)throw new Error("nonOptions not a subset of FunctionWeights!");return t={},e.forEach(function(e){return s.call(i,e)<0?t[e]=o.FunctionWeights[e].weight.toString():void 0}),t}(),AdvancedOptionsHeading:"Advanced Options",AdvancedOptions:{Evolution:"Optimize for increased evolutionary potential.",RFC10:"Turn on RFC10 site recognition.","Rate Limiting Codons":"Ignore rate-limiting codons."},MutabilityScoreboardLabel:"Mutability Scoreboard",MutabilityLabel:{
label:"Output Mutability Score",low:.002,max:.01,opt:.01},ChangeLabel:{label:"Percent Mutability Change",low:50,max:100,opt:100},NoSpeciesText:"Species Selection is not currently functional. Please check the documentation page.",VersionName:"mutation-optimizer v0.0"}},{"../lib/symbols":2,lodash:"lodash"}]},{},[7,4,6,5,8,3,1,2]);